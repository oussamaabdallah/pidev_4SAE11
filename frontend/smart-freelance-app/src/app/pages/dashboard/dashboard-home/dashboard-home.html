<div class="dashboard-home-page">
  <h1>Welcome to Freelancia! ðŸ‘‹</h1>
  <p class="subtitle">You're logged in as: <strong>{{ auth.getUserRole() }}</strong></p>

  @if (auth.isFreelancer()) {
    <section class="dashboard-stats-section">
      <h2>Your overview</h2>
      @if (loading) {
        <p class="stats-loading">Loading statisticsâ€¦</p>
      } @else if (error) {
        <p class="stats-error">{{ error }}</p>
        <button type="button" class="btn-retry" (click)="loadDashboardStats()">Retry</button>
      } @else if (stats) {
        <div class="stats-grid">
          <app-card class="stat-card stat-contracts">
            <span class="stat-value">{{ stats.activeContracts ?? 0 }}</span>
            <span class="stat-label">Active contracts</span>
          </app-card>
          <app-card class="stat-card stat-week">
            <span class="stat-value">{{ stats.activeContractsThisWeek ?? 0 }}</span>
            <span class="stat-label">New this week</span>
          </app-card>
          <app-card class="stat-card stat-spent">
            <span class="stat-value">{{ formatCurrency(stats.totalSpentLast30Days) }}</span>
            <span class="stat-label">Spent (last 30 days)</span>
          </app-card>
          <app-card class="stat-card stat-projects">
            <span class="stat-value">{{ stats.totalProjectsPosted ?? 0 }}</span>
            <span class="stat-label">Total projects posted</span>
          </app-card>
          <app-card class="stat-card stat-pending">
            <span class="stat-value">{{ stats.pendingApplications ?? 0 }}</span>
            <span class="stat-label">Pending applications</span>
            @if ((stats.pendingApplications ?? 0) > 0) {
              <a routerLink="/dashboard/my-offers" class="stat-link">Review â†’</a>
            }
          </app-card>
          <app-card class="stat-card stat-offers">
            <span class="stat-value">{{ stats.activeOffers ?? 0 }}</span>
            <span class="stat-label">Active offers</span>
            <a routerLink="/dashboard/my-offers" class="stat-link">Manage â†’</a>
          </app-card>
        </div>
      }
    </section>
  }

  <section class="quick-actions">
    <h2>Quick actions</h2>
    <div class="cards-grid">
      <app-card [hoverable]="true">
        <h3>ðŸš€ Quick Start</h3>
        <p>Explore the sidebar to navigate to different sections of your dashboard.</p>
      </app-card>

      @if (auth.isClient()) {
        <app-card [hoverable]="true">
          <h3>ðŸ’¼ For Clients</h3>
          <p>Post jobs, browse freelancers, and manage your projects from here.</p>
          <a routerLink="/dashboard/post-job" class="card-link">Post a job</a>
        </app-card>
      }

      @if (auth.isFreelancer()) {
        <app-card [hoverable]="true">
          <h3>ðŸŽ¨ For Freelancers</h3>
          <p>Manage your offers, applications, and portfolio.</p>
          <a routerLink="/dashboard/my-offers" class="card-link">My offers</a>
          <a routerLink="/dashboard/browse-offers" class="card-link">Browse offers</a>
        </app-card>
      }

      <app-card [hoverable]="true">
        <h3>ðŸ“‹ My Contracts</h3>
        <p>View and manage your contracts.</p>
        <a routerLink="/dashboard/my-contracts" class="card-link">View contracts</a>
      </app-card>
    </div>
  </section>
</div>
