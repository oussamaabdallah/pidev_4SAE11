<div class="offer-form-page">
  <h1 class="page-title">Edit Offer</h1>
  <p class="subtitle">Update your offer. Only draft offers can be edited.</p>
  <div class="error-banner" role="alert" *ngIf="submitError">{{ submitError }}</div>
  <p class="loading-msg" *ngIf="loading">Loading offer…</p>
  <form class="offer-form" [formGroup]="form" (ngSubmit)="submit()" *ngIf="!loading">
    <div class="field">
      <label for="title">Title <span class="required">*</span></label>
      <input id="title" type="text" formControlName="title" />
      <span class="field-error" *ngIf="form.get('title')?.invalid && form.get('title')?.touched">Title is required (min 5 characters).</span>
    </div>
    <div class="field">
      <label for="domain">Domain <span class="required">*</span></label>
      <input id="domain" type="text" formControlName="domain" />
      <span class="field-error" *ngIf="form.get('domain')?.invalid && form.get('domain')?.touched">Domain is required.</span>
    </div>
    <div class="field">
      <label for="description">Description <span class="required">*</span></label>
      <textarea id="description" formControlName="description" rows="5"></textarea>
      <span class="field-error" *ngIf="form.get('description')?.invalid && form.get('description')?.touched">Description is required (min 20 characters).</span>
    </div>
    <div class="field-row">
      <div class="field">
        <label for="price">Price <span class="required">*</span></label>
        <input id="price" type="number" formControlName="price" min="0.01" step="0.01" />
        <span class="field-error" *ngIf="form.get('price')?.invalid && form.get('price')?.touched">Valid price required.</span>
      </div>
      <div class="field">
        <label for="durationType">Duration <span class="required">*</span></label>
        <select id="durationType" formControlName="durationType">
          <option value="hourly">Hourly</option>
          <option value="fixed">Fixed</option>
          <option value="monthly">Monthly</option>
        </select>
      </div>
    </div>
    <div class="field-row">
      <div class="field">
        <label for="deadline">Deadline (optional)</label>
        <input id="deadline" type="date" formControlName="deadline" [min]="minDate" />
      </div>
      <div class="field">
        <label for="category">Category (optional)</label>
        <input id="category" type="text" formControlName="category" />
      </div>
    </div>
    <div class="field">
      <label for="tags">Tags (optional)</label>
      <input id="tags" type="text" formControlName="tags" />
    </div>
    <div class="form-actions">
      <a routerLink="/dashboard/my-offers" class="btn-secondary">Cancel</a>
      <button type="submit" class="btn-primary" [disabled]="form.invalid || isSubmitting">{{ isSubmitting ? 'Saving…' : 'Save' }}</button>
    </div>
  </form>
</div>
