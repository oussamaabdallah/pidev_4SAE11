.add-offer-page {
  position: relative;
  min-height: 100%;
  padding: 1.5rem 1rem 3rem;
  max-width: 720px;
  margin: 0 auto;
}

.add-offer-background {
  position: fixed;
  inset: 0;
  z-index: 0;
  background: linear-gradient(160deg, #f8fafc 0%, #f1f5f9 35%, #e2e8f0 100%);
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: radial-gradient(circle at 20% 20%, rgba(16, 185, 129, 0.04) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.04) 0%, transparent 50%);
    pointer-events: none;
  }
}

.add-offer-header {
  position: relative;
  z-index: 1;
  margin-bottom: 1.5rem;

  .back-link {
    display: inline-block;
    font-size: 0.875rem;
    color: #64748b;
    text-decoration: none;
    margin-bottom: 0.75rem;
  }
  .back-link:hover {
    color: #0f172a;
    text-decoration: underline;
  }

  .page-title {
    font-size: clamp(1.5rem, 4vw, 2rem);
    font-weight: 700;
    color: #0f172a;
    margin: 0 0 0.5rem;
    line-height: 1.25;
  }

  .page-subtitle {
    font-size: 1rem;
    color: #64748b;
    margin: 0;
    line-height: 1.5;
  }
}

// ——— Barre de notification (success / error / info) ———
.notification-bar {
  position: relative;
  z-index: 10;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.875rem 1rem 0.875rem 1.25rem;
  margin-bottom: 1.25rem;
  border-radius: 12px;
  border: 1px solid transparent;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  animation: notification-slide 0.35s ease-out;

  &__icon {
    flex-shrink: 0;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background-color: rgba(0, 0, 0, 0.08);
    background-repeat: no-repeat;
    background-position: center;
    background-size: 16px;
  }

  &__message {
    flex: 1;
    margin: 0;
    font-size: 0.9375rem;
    font-weight: 500;
    line-height: 1.4;
  }

  &__close {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    padding: 0;
    border: none;
    background: rgba(0, 0, 0, 0.06);
    border-radius: 8px;
    font-size: 1.25rem;
    line-height: 1;
    color: inherit;
    cursor: pointer;
    transition: background 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  &__close:hover {
    background: rgba(0, 0, 0, 0.12);
  }

  &--success {
    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
    border-color: #a7f3d0;
    color: #065f46;
    .notification-bar__icon {
      background-color: rgba(5, 95, 70, 0.15);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23065f46' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 6L9 17l-5-5'/%3E%3C/svg%3E");
    }
  }

  &--error {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-color: #fecaca;
    color: #991b1b;
    .notification-bar__icon {
      background-color: rgba(153, 27, 27, 0.12);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23991b1b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cline x1='15' y1='9' x2='9' y2='15'/%3E%3Cline x1='9' y1='9' x2='15' y2='15'/%3E%3C/svg%3E");
    }
  }

  &--info {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-color: #bfdbfe;
    color: #1e40af;
    .notification-bar__icon {
      background-color: rgba(30, 64, 175, 0.12);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%231e40af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cline x1='12' y1='16' x2='12' y2='12'/%3E%3Cline x1='12' y1='8' x2='12.01' y2='8'/%3E%3C/svg%3E");
    }
  }
}

@keyframes notification-slide {
  from {
    opacity: 0;
    transform: translateY(-12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// État de chargement du formulaire (edit-offer)
.form-loading {
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding: 3rem 2rem;
  background: #fff;
  border-radius: 16px;
  border: 1px solid #e2e8f0;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);

  &__spinner {
    width: 28px;
    height: 28px;
    border: 3px solid #e2e8f0;
    border-top-color: #10b981;
    border-radius: 50%;
    animation: form-spin 0.7s linear infinite;
  }

  &__text {
    margin: 0;
    font-size: 0.9375rem;
    color: #64748b;
    font-weight: 500;
  }
}

@keyframes form-spin {
  to { transform: rotate(360deg); }
}

.form-card {
  position: relative;
  z-index: 1;
  background: #ffffff;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.04);
  border: 1px solid #e2e8f0;
  padding: 2rem 1.75rem;
  overflow: hidden;
}

.add-offer-form {
  .form-section {
    margin-bottom: 1.75rem;

    &:last-of-type {
      margin-bottom: 0;
    }
    &--optional {
      padding-top: 1.25rem;
      border-top: 1px solid #e2e8f0;
    }
  }

  .section-title {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.05rem;
    font-weight: 600;
    color: #0f172a;
    margin: 0 0 1.25rem;
    letter-spacing: 0.01em;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e2e8f0;
  }

  .field {
    margin-bottom: 1rem;

    label {
      display: block;
      margin-bottom: 0.35rem;
      font-size: 0.875rem;
      font-weight: 600;
      color: #334155;

      .required {
        color: #dc2626;
      }
    }

    input,
    textarea,
    select {
      width: 100%;
      padding: 0.6rem 0.75rem;
      font-size: 1rem;
      border: 1px solid #cbd5e1;
      border-radius: 8px;
      box-sizing: border-box;
      background: #fff;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;

      &:focus {
        outline: none;
        border-color: #10b981;
        box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
      }

      &::placeholder {
        color: #94a3b8;
      }
    }

    textarea {
      resize: vertical;
      min-height: 120px;
    }

    select {
      cursor: pointer;
      appearance: auto;
    }

    .field-error {
      display: block;
      margin-top: 0.35rem;
      font-size: 0.8125rem;
      color: #dc2626;
    }
  }

  .field-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }

  .form-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-top: 1.75rem;
    padding-top: 1.5rem;
    border-top: 1px solid #e2e8f0;
  }
}

.btn {
  padding: 0.6rem 1.25rem;
  font-size: 0.9375rem;
  font-weight: 600;
  border-radius: 8px;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  transition: background-color 0.15s ease, color 0.15s ease;

  &.btn-secondary {
    background: #f1f5f9;
    color: #475569;
    border: 1px solid #cbd5e1;
  }
  &.btn-secondary:hover {
    background: #e2e8f0;
    color: #0f172a;
  }

  &.btn-primary {
    background: #10b981;
    color: #fff;
  }
  &.btn-primary:hover:not(:disabled) {
    background: #059669;
  }
  &.btn-primary:disabled {
    opacity: 0.65;
    cursor: not-allowed;
  }
}

/* Traduction – partagé avec edit-offer (offer-form-page) */
.offer-form-page .translate-form-section,
.add-offer-form .translate-form-section {
  margin-bottom: 1.75rem;
  padding: 1.25rem;
  background: linear-gradient(145deg, #f8fafc 0%, #f1f5f9 100%);
  border: 1px solid #e2e8f0;
  border-radius: 12px;
}
.offer-form-page .translate-form-section__title,
.add-offer-form .translate-form-section__title {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  margin: 0 0 0.25rem;
  font-size: 1rem;
  font-weight: 700;
  color: #0f172a;
}
.offer-form-page .translate-form-section__icon,
.add-offer-form .translate-form-section__icon {
  width: 24px;
  height: 24px;
  border-radius: 6px;
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
}
.offer-form-page .translate-form-section__subtitle,
.add-offer-form .translate-form-section__subtitle {
  margin: 0 0 1rem;
  font-size: 0.875rem;
  color: #64748b;
}
.offer-form-page .translate-form-section__actions,
.add-offer-form .translate-form-section__actions {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.5rem;
}
.offer-form-page .translate-lang-btn,
.add-offer-form .translate-lang-btn {
  padding: 0.45rem 0.9rem;
  font-size: 0.8125rem;
  font-weight: 500;
  border: 1px solid #cbd5e1;
  border-radius: 8px;
  background: #fff;
  color: #475569;
  cursor: pointer;
  transition: all 0.2s ease;
}
.offer-form-page .translate-lang-btn:hover,
.offer-form-page .translate-lang-btn--active,
.add-offer-form .translate-lang-btn:hover,
.add-offer-form .translate-lang-btn--active {
  background: #3b82f6;
  color: #fff;
  border-color: #3b82f6;
}
.offer-form-page .translate-run-btn,
.add-offer-form .translate-run-btn {
  padding: 0.45rem 1rem;
  font-size: 0.8125rem;
  font-weight: 600;
  border: none;
  border-radius: 8px;
  background: #10b981;
  color: #fff;
  cursor: pointer;
}
.offer-form-page .translate-run-btn:disabled,
.add-offer-form .translate-run-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}
.offer-form-page .translate-form-section__error,
.add-offer-form .translate-form-section__error {
  margin: 0.5rem 0 0;
  font-size: 0.8125rem;
  color: #dc2626;
  background: #fef2f2;
  padding: 0.4rem 0.6rem;
  border-radius: 6px;
}
.offer-form-page .translate-form-result,
.add-offer-form .translate-form-result {
  margin-top: 1rem;
  padding: 1rem;
  background: #fff;
  border-radius: 10px;
  border: 1px solid #e2e8f0;
}
.offer-form-page .translate-form-result--rtl,
.add-offer-form .translate-form-result--rtl {
  direction: rtl;
  text-align: right;
}
.offer-form-page .translate-form-result__preview,
.add-offer-form .translate-form-result__preview {
  margin: 0 0 0.5rem;
  font-size: 0.875rem;
  color: #334155;
  line-height: 1.4;
}
.offer-form-page .btn-apply-translation,
.add-offer-form .btn-apply-translation {
  margin-top: 0.75rem;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 600;
  background: #3b82f6;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
.offer-form-page .btn-apply-translation:hover,
.add-offer-form .btn-apply-translation:hover {
  background: #2563eb;
}

@media (max-width: 600px) {
  .add-offer-form .field-row {
    grid-template-columns: 1fr;
  }

  .form-card {
    padding: 1.25rem 1rem;
  }

  .add-offer-form .form-actions {
    flex-direction: column;

    .btn {
      width: 100%;
    }
  }
}
