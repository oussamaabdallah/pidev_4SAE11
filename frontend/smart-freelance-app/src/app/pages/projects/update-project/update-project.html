<section class="update-project">
  <div class="update-project__container">
    <h1 class="update-project__title">Edit Project</h1>
    <p class="update-project__subtitle">Update the project details below</p>
    
    <form class="project-form" [formGroup]="updateProjectForm" (ngSubmit)="updateProject()">
    
      <!-- Title -->
      <div class="form-group">
        <label for="title" class="form-label">Project Title <span class="required">*</span></label>
        <input type="text" id="title" formControlName="title" class="form-input" minlength="3" maxlength="200">
        <div *ngIf="updateProjectForm.get('title')?.invalid && updateProjectForm.get('title')?.touched" class="error">
          <span *ngIf="updateProjectForm.get('title')?.errors?.['required']">Title is required.</span>
          <span *ngIf="updateProjectForm.get('title')?.errors?.['minlength']">Title must be at least 3 characters.</span>
        </div>
      </div>

      <!-- Category -->
      <div class="form-group">
        <label for="category" class="form-label">Category <span class="required">*</span></label>
        <select id="category" formControlName="category" class="form-select">
          <option value="">Select category</option>
          <option value="Web Application">Web Application</option>
          <option value="Mobile App">Mobile App</option>
          <option value="Dashboard">Dashboard / Analytics</option>
          <option value="E-commerce">E-commerce</option>
          <option value="API / Backend">API / Backend</option>
          <option value="UI/UX Design">UI/UX Design</option>
          <option value="Other">Other</option>
        </select>
        <div *ngIf="updateProjectForm.get('category')?.invalid && updateProjectForm.get('category')?.touched" class="error">
          Category is required
        </div>
      </div>

      <!-- Status -->
      <div class="form-group">
        <label class="form-label">Status <span class="required">*</span></label>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" formControlName="status" value="OPEN">
            <span>Open</span>
          </label>
          <label class="radio-label">
            <input type="radio" formControlName="status" value="IN_PROGRESS">
            <span>In Progress</span>
          </label>
          <label class="radio-label">
            <input type="radio" formControlName="status" value="COMPLETED">
            <span>Completed</span>
          </label>
          <label class="radio-label">
            <input type="radio" formControlName="status" value="CANCELLED">
            <span>Cancelled</span>
          </label>
        </div>
        <div *ngIf="updateProjectForm.get('status')?.invalid && updateProjectForm.get('status')?.touched" class="error">
          Status is required
        </div>
      </div>

      <!-- Budget -->
      <div class="form-group">
        <label for="budget" class="form-label">Budget (USD) <span class="required">*</span></label>
        <input type="number" id="budget" formControlName="budget" class="form-input" min="1" step="1">
        <div *ngIf="updateProjectForm.get('budget')?.invalid && updateProjectForm.get('budget')?.touched" class="error">
          <span *ngIf="updateProjectForm.get('budget')?.errors?.['required']">Budget is required.</span>
          <span *ngIf="updateProjectForm.get('budget')?.errors?.['min']">Budget must be at least 1.</span>
        </div>
      </div>

      <!-- Deadline -->
      <div class="form-group">
        <label for="deadline" class="form-label">Deadline <span class="required">*</span></label>
        <input type="date" id="deadline" formControlName="deadline" class="form-input">
        <div *ngIf="updateProjectForm.get('deadline')?.invalid && updateProjectForm.get('deadline')?.touched" class="error">
          Deadline is required.
        </div>
      </div>

      <!-- Description -->
      <div class="form-group">
        <label for="description" class="form-label">Description <span class="required">*</span></label>
        <textarea id="description" formControlName="description" class="form-textarea" minlength="10" maxlength="5000"></textarea>
        <div *ngIf="updateProjectForm.get('description')?.invalid && updateProjectForm.get('description')?.touched" class="error">
          <span *ngIf="updateProjectForm.get('description')?.errors?.['required']">Description is required.</span>
          <span *ngIf="updateProjectForm.get('description')?.errors?.['minlength']">Description must be at least 10 characters.</span>
        </div>
      </div>

      <!-- Skills Required -->
      <div class="form-group">
        <label for="skillsRequiered" class="form-label">Skills Required (comma separated) <span class="required">*</span></label>
        <input type="text" id="skillsRequiered" formControlName="skillsRequiered" class="form-input" minlength="2">
        <small class="form-hint">Separate skills with commas (at least 2 characters).</small>
        <div *ngIf="updateProjectForm.get('skillsRequiered')?.invalid && updateProjectForm.get('skillsRequiered')?.touched" class="error">
          <span *ngIf="updateProjectForm.get('skillsRequiered')?.errors?.['required']">Skills are required.</span>
          <span *ngIf="updateProjectForm.get('skillsRequiered')?.errors?.['minlength']">Enter at least one skill (min 2 characters).</span>
        </div>
      </div>

      <!-- Messages / Loading / Errors -->
      <div *ngIf="isLoading" class="form-message loading">
        Loading project...
      </div>
      <div *ngIf="submitSuccess" class="form-message success">
        Project updated successfully!
      </div>
      <div *ngIf="submitError" class="form-message error">
        {{ submitError }}
      </div>
      <div *ngIf="isSubmitting" class="form-message loading">
        Updating project...
      </div>

      <!-- Action Buttons -->
      <div class="form-actions">
        <button type="submit" class="btn btn--submit"
                [disabled]="isSubmitting || updateProjectForm.invalid || isLoading">
          {{ isSubmitting ? 'Updating...' : 'Update Project' }}
        </button>
      </div>

    </form>
  </div>
</section>