spring.application.name=user
server.port=8090
eureka.client.service-url.defaultZone=http://localhost:8420/eureka
eureka.client.register-with-eureka=true
# Register with hostname the Gateway can reach (same machine = localhost)
eureka.instance.hostname=localhost
eureka.instance.preferIpAddress=false

# MySQL
spring.datasource.url=jdbc:mysql://localhost:3307/userdb?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Keycloak-auth sync (same service-secret as in KeyCloak/application.properties)
keycloak.auth.service-url=${KEYCLOAK_AUTH_SERVICE_URL:http://localhost:8079}
keycloak.auth.service-secret=${KEYCLOAK_SERVICE_SECRET:smart-freelance-internal-secret}

# Local avatar upload (directory under project; created if missing)
app.upload-dir=${APP_UPLOAD_DIR:uploads/avatars}
# Base URL for avatar links (gateway + user service path) â€“ used in upload response
app.public-base-url=${APP_PUBLIC_BASE_URL:http://localhost:8078/user}

# Multipart (avatar upload)
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# Swagger / OpenAPI
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
